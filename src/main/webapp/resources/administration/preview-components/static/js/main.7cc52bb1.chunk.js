(this["webpackJsonpentando-preview-components"]=this["webpackJsonpentando-preview-components"]||[]).push([[0],{253:function(e,t){},276:function(e,t){},282:function(e,t){},655:function(e,t,n){},657:function(e,t,n){},658:function(e,t,n){"use strict";n.r(t);var o=n(80),a=n(39),r=n(66),c=n(104),i=n(105),s=n(29),l=n(106),u=n(110),m=n(111),b=n(1),d=n(15),h=n.n(d),j=n(54),g=n(25),p={locale:"en",messages:{"preview.controlbar.previewMode":"Change Preview Mode","preview.controlbar.option.desktop":"Desktop","preview.controlbar.option.tablet":"Tablet","preview.controlbar.option.smartphone":"Smartphone","preview.controlbar.option.custom":"Custom","preview.controlbar.language":"Language","preview.controlbar.dashboard":"Back to Dashboard","preview.controlbar.myprofile":"My Profile","preview.controlbar.logout":"Logout","preview.commentbar.caption":"Comments","preview.commentbar.commenttype.all":"All","preview.commentbar.commenttype.yours":"Only Yours","preview.commentbar.commenttype.resolved":"Resolved"}},O=n(255),v=n.n(O);Object(g.c)(v.a);var C=function(e,t){return function(n){var o=new CustomEvent(t,{detail:n});e.dispatchEvent(o)}},w=n(256),f=n(16),x=n(168),k=n(103),_=n(165),L=n(162),N=(n(655),n(8)),B={width:"100%",height:"100%"},y=function(e){return/%$/.test(e)||/px$/.test(e)?e:"".concat(e,"px")},E=function(e){var t=e.appBuilderDomain,n=e.userName,o=e.resolution,c=e.onClickLogout,i=e.commentsOpened,s=e.onCommentsToggle,l=e.screenSizes,u=e.onResolutionChange,m=e.onShareClicked,d=e.languages,h=e.currentLang,p=e.onChangeLang,O=Object(b.useState)(i),v=Object(r.a)(O,2),C=v[0],E=v[1];Object(b.useEffect)((function(){E(i)}),[i]);var A=Object(j.pick)(Object(a.a)(Object(a.a)({},B),o),Object.keys(B)),T=A.width,P=A.height,S=Object(b.useState)(y(T)),M=Object(r.a)(S,2),z=M[0],H=M[1],I=Object(b.useState)(y(P)),D=Object(r.a)(I,2),G=D[0],R=D[1],U=Object(N.jsxs)("svg",{width:"45",height:"45",viewBox:"0 0 45 45",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[Object(N.jsx)("path",{d:"M45 0H0V45H45V0Z",fill:"#101820"}),Object(N.jsx)("path",{d:"M17.3055 34.6051H10.3819V27.6943L6.92334 29.3143V38.0636H10.3819H17.2991L17.3055 34.6051Z",fill:"#00A0DF"}),Object(N.jsx)("path",{d:"M27.6943 10.395H34.6179V17.3057L38.0765 15.6857V6.9364H34.6179H27.7008L27.6943 10.395Z",fill:"#00A0DF"}),Object(N.jsx)("path",{d:"M23.9916 24.4865C28.0801 24.4865 29.5844 22.6029 29.5844 20.3786V18.45C29.5844 16.2322 27.9194 13.8407 24.1459 13.8407H21.1566C19.6908 13.7938 18.266 14.3285 17.1929 15.3281C16.1199 16.3276 15.4857 17.7111 15.4287 19.1765C15.4287 19.755 15.4287 24.0107 15.4287 24.4865C15.4287 27.7715 18.4951 31.1529 22.8987 31.1529C25.276 31.1823 27.575 30.304 29.3273 28.6972L27.3151 25.8943C25.4959 27.135 24.9944 27.6815 23.0209 27.6815C21.0473 27.6815 18.8873 26.5822 18.8873 24.4672L23.9916 24.4865ZM23.9916 17.3122C25.7016 17.3122 26.1001 17.82 26.1001 18.9257V19.6779C26.1001 21.1436 25.4573 21.0215 23.9466 21.0215H18.8873V19.1765C18.8855 18.9184 18.9375 18.6628 19.04 18.4259C19.1424 18.1891 19.2931 17.9762 19.4824 17.8008C19.6717 17.6254 19.8955 17.4914 20.1395 17.4072C20.3834 17.3231 20.6422 17.2907 20.8994 17.3122H23.9916Z",fill:"white"})]}),V=Object(N.jsxs)("span",{children:[Object(N.jsx)(f.Icon,{name:"user"})," ",n]}),K=function(e){var t=e.width,n=e.height;return function(){H(y(t)),R(y(n)),u({width:y(t),height:y(n)})}};return Object(N.jsx)("div",{className:"PreviewControlBar",children:Object(N.jsx)("nav",{children:Object(N.jsxs)("ul",{children:[Object(N.jsxs)("li",{className:"leftArea",children:[U,Object(N.jsxs)("a",{href:"".concat(t,"dashboard"),target:"_blank",rel:"noopener noreferrer",className:"PreviewControlBar__dashboard",children:[Object(N.jsx)(f.Icon,{size:"lg",name:"home"}),Object(N.jsx)(g.a,{id:"preview.controlbar.dashboard"})]}),Object(N.jsx)(f.Button,{className:Object(w.a)("PreviewControlBar__commentsBtn",C&&"opened"),onClick:function(){var e=!C;E(e),s(e)},children:Object(N.jsx)(f.Icon,{size:"lg",name:"comments"})})]}),Object(N.jsxs)("li",{className:"middleArea",children:[Object(N.jsx)(f.Button,{className:"PreviewControlBar__deviceBtn",onClick:K(l.desktop),children:Object(N.jsx)(f.Icon,{size:"lg",name:"desktop"})}),Object(N.jsx)(f.Button,{className:"PreviewControlBar__deviceBtn",onClick:K(l.mobile),children:Object(N.jsx)(f.Icon,{size:"lg",name:"mobile"})}),Object(N.jsx)(f.Button,{className:"PreviewControlBar__deviceBtn",onClick:K(l.tablet),children:Object(N.jsx)(f.Icon,{size:"lg",name:"tablet"})}),Object(N.jsx)("input",{className:"custom-width",onChange:function(e){return H(e.target.value)},value:z,onKeyUp:function(e){if(13===e.keyCode){var t=y(e.target.value);H(t),u({width:t,height:G})}}}),"x",Object(N.jsx)("input",{className:"custom-height",onChange:function(e){return R(e.target.value)},value:G,onKeyUp:function(e){if(13===e.keyCode){var t=y(e.target.value);R(t),u({width:z,height:t})}}})]}),Object(N.jsxs)("li",{className:"rightArea",children:[Object(N.jsxs)("div",{className:"LanguageSelect",children:[Object(N.jsx)("select",{className:"LanguageSelect__dropdown",defaultValue:h,onChange:function(e){return p(e.target.value)},children:d.map((function(e){return Object(N.jsx)("option",{value:e.code,className:"LanguageSelect__option",children:e.code.toUpperCase()})}))}),Object(N.jsx)("span",{className:"LanguageSelect__icon caret"})]}),Object(N.jsxs)(x.a,{type:"radio",name:"pageType",className:"PreviewControlBar__pageType",children:[Object(N.jsx)(k.a,{value:"preview",children:"Preview"}),Object(N.jsx)(k.a,{disabled:!0,value:"published",children:"Published"})]})]}),Object(N.jsx)("li",{className:"rightArea",children:Object(N.jsxs)(f.Button,{className:"PreviewControlBar__share",onClick:m,children:[Object(N.jsx)(f.Icon,{name:"user-plus",size:"lg"})," Share"]})}),Object(N.jsxs)(_.a,{id:"previewControlBarUserMenu",className:"PreviewControlBar__userDropdown",title:V,pullRight:!0,children:[Object(N.jsxs)(L.a,{href:"".concat(t,"myProfile"),children:[Object(N.jsx)(f.Icon,{name:"user"})," ",Object(N.jsx)(g.a,{id:"preview.controlbar.myprofile"})]}),Object(N.jsxs)(L.a,{onClick:c,children:[Object(N.jsx)(f.Icon,{name:"sign-out"})," ",Object(N.jsx)(g.a,{id:"preview.controlbar.logout"})]})]})]})})})};E.defaultProps={appBuilderDomain:"//",userName:"user",onClickLogout:function(){},resolution:{},commentsOpened:!1,onCommentsToggle:function(){},onResolutionChange:function(){},onShareClicked:function(){},onChangeLang:function(){},languages:[],currentLang:""};var A=E,T={DESKTOP:"100%x100%",MOBILE:"360x640",TABLET:"768x1024"},P={appBuilderDomain:"app-builder-domain",resolutionWidth:"resolution-width",resolutionHeight:"resolution-height",commentsOpened:"comments-opened",languages:"languages",currentLang:"current-lang",sizeDesktop:"size-desktop",sizeTablet:"size-tablet",sizeMobile:"size-mobile",userLogged:"user-logged"},S={LOGOUT_CLICKED:"preview-control-bar/on-logout-clicked",COMMENT_TOGGLE:"preview-control-bar/on-comment-toggled",RESOLUTION_CHANGE:"preview-control-bar/on-resolution-change",SHARE_CLICKED:"preview-control-bar/on-share-clicked",CHANGE_LANGUAGE:"preview-control-bar/on-change-language"};window.PreviewControlBarEvent=S;var M=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var o;return Object(c.a)(this,n),(o=t.call(this,e)).handleCommentsToggle=o.handleCommentsToggle.bind(Object(s.a)(o)),o.updateCommentsClose=o.updateCommentsClose.bind(Object(s.a)(o)),o.onLogoutClicked=C(Object(s.a)(o),S.LOGOUT_CLICKED),o.onCommentsClicked=C(Object(s.a)(o),S.COMMENT_TOGGLE),o.onChangeResolution=C(Object(s.a)(o),S.RESOLUTION_CHANGE),o.onShareClicked=C(Object(s.a)(o),S.SHARE_CLICKED),o.onChangeLanguage=C(Object(s.a)(o),S.CHANGE_LANGUAGE),o}return Object(i.a)(n,[{key:"attributeChangedCallback",value:function(e,t,n){if(!Object.values(P).includes(e))throw new Error("Untracked changed attribute: ".concat(e));n!==t&&this.render()}},{key:"updateCommentsClose",value:function(){this.setAttribute(P.commentsOpened,!1)}},{key:"connectedCallback",value:function(){var e=this;setTimeout((function(){return e.render()}),500)}},{key:"extractScreenSizeAttribute",value:function(){var e=this;return[P.sizeDesktop,P.sizeMobile,P.sizeTablet].reduce((function(t,n){var c=n.split("-")[1],i=(e.getAttribute(n)||T[c.toUpperCase()]).split("x").map((function(e){return e.trim()}));if(i.length){var s=Object(r.a)(i,2),l=s[0],u=s[1];return Object(a.a)(Object(a.a)({},t),{},Object(o.a)({},c,{width:l,height:u}))}return Object(a.a)(Object(a.a)({},t),{},Object(o.a)({},c,{width:"100%",height:"100%"}))}),{})}},{key:"extractResolutionAttribute",value:function(){var e=this.getAttribute(P.resolutionWidth),t=this.getAttribute(P.resolutionHeight);return e||t?Object(j.pickBy)({width:e,height:t},j.identity):null}},{key:"handleCommentsToggle",value:function(e){this.setAttribute("comments-opened",e),this.onCommentsClicked(e)}},{key:"render",value:function(){var e=this.extractScreenSizeAttribute(),t=this.extractResolutionAttribute(),n=Object(j.pickBy)({appBuilderDomain:this.getAttribute(P.appBuilderDomain),languages:JSON.parse(this.getAttribute(P.languages)),currentLang:this.getAttribute(P.currentLang),screenSizes:e,resolution:t,userName:this.getAttribute(P.userLogged),onClickLogout:this.onLogoutClicked,onCommentsToggle:this.handleCommentsToggle,onResolutionChange:this.onChangeResolution,onShareClicked:this.onShareClicked,onChangeLang:this.onChangeLanguage},j.identity);n.commentsOpened="true"===this.getAttribute(P.commentsOpened),h.a.render(Object(N.jsx)(g.b,{locale:"en",messages:p.messages,children:Object(N.jsx)(A,Object(a.a)({},n))}),this)}},{key:"disconnectedCallback",value:function(){this.unsubscribeFromCommentCloseEvents&&this.unsubscribeFromCommentCloseEvents()}}],[{key:"observedAttributes",get:function(){return Object.values(P)}}]),n}(Object(m.a)(HTMLElement));customElements.get("preview-control-bar")||customElements.define("preview-control-bar",M);n(657);var z=["all","yours","resolved"],H=function(e){var t=e.intl,n=e.onCommentClose;return Object(N.jsxs)(N.Fragment,{children:[Object(N.jsxs)("div",{className:"PreviewCommentsBar__caption",children:[Object(N.jsx)(f.Icon,{size:"lg",name:"comments",className:"PreviewCommentsBar__caption-icon"}),Object(N.jsx)("h2",{children:Object(N.jsx)(g.a,{id:"preview.commentbar.caption"})}),Object(N.jsxs)("div",{className:"PreviewCommentsBar__select-type",children:[Object(N.jsx)("select",{className:"PreviewCommentsBar__select-type--dropdown",children:z.map((function(e){return Object(N.jsx)("option",{value:e,className:"PreviewCommentsBar__select-type--option",children:t.formatMessage({id:"preview.commentbar.commenttype.".concat(e)})})}))}),Object(N.jsx)("span",{className:"PreviewCommentsBar__select-type--icon caret"})]}),Object(N.jsx)(f.Button,{onClick:function(){return n()},className:"PreviewCommentsBar__close",children:Object(N.jsx)(f.Icon,{size:"lg",name:"close"})})]}),Object(N.jsx)("div",{className:"PreviewCommentsBar__area"})]})};H.defaultProps={onCommentClose:function(){}};var I=Object(g.d)(H),D={},G={COMMENT_CLOSE:"preview-comments-bar/on-comment-close"};window.PreviewCommentsBarEvent=G;var R=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(e){var o;return Object(c.a)(this,n),(o=t.call(this,e)).onCommentClose=C(Object(s.a)(o),G.COMMENT_CLOSE),o}return Object(i.a)(n,[{key:"attributeChangedCallback",value:function(e,t,n){if(!Object.values(D).includes(e))throw new Error("Untracked changed attribute: ".concat(e));this.mountPoint&&n!==t&&this.render()}},{key:"connectedCallback",value:function(){var e=this;setTimeout((function(){return e.render()}),500)}},{key:"render",value:function(){h.a.render(Object(N.jsx)(g.b,{locale:"en",messages:p.messages,children:Object(N.jsx)(I,{onCommentClose:this.onCommentClose})}),this)}}],[{key:"observedAttributes",get:function(){return Object.values(D)}}]),n}(Object(m.a)(HTMLElement));customElements.get("preview-comments-bar")||customElements.define("preview-comments-bar",R)}},[[658,1,2]]]);
//# sourceMappingURL=main.7cc52bb1.chunk.js.map